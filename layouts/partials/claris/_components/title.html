{{- $page := . }}
{{- $template := "claris/_components/title" }}
{{- $title := .Title }}
{{- $subTitle := .Params.subtitle }}
{{- $superTitle := .Params.supertitle }}
{{- $titleClass := "content-title" }}

{{- if reflect.IsMap . }}
  {{- $page = .Page }}
  {{- with .Title }}
    {{- $title = . }}
  {{- else }}
    {{ $title = partial "claris/_functions/title" .Page }}
  {{- end }}
  {{- with .SuperTitle }}
    {{- $superTitle = . }}
  {{- end }}
  {{- with .SubTitle }}
    {{- $subTitle = . }}
  {{- end }}
  {{- with .TitleClass }}
    {{- $titleClass = . }}
  {{- end }}
{{- end }}

{{- with $page -}}<!-- Restore "." to refer to page context from which the partial was called -->
  {{/* {{- partial "html-comment" (printf "[%s]: BEGIN: Kind:%v .Params:%v" $template .Kind .Params) }} */}}

  {{- if $title }}
          <h1  id="articleTop"{{- with $titleClass }} class="{{ . }}" {{ end -}}>
  {{- with $superTitle }}
           <span class="supertitle">{{. | $page.RenderString }}</span>
  {{- end -}}
  {{ $title | $page.RenderString }}
  {{- with $subTitle }}
            <span class="subtitle">{{. | $page.RenderString }}</span>
  {{- end -}}
         </h1>
  {{- end -}}
{{- end -}}
{{/* {{- partial "html-comment" (printf "[%s]:   END" $template) }} */}}
