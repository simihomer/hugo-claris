{{- $authorEntity := dict }}
{{- $page := .Page }}
{{- $template := "claris/_functions/schema-org/_entities/author" }}
{{- $debug := .Debug }}
{{/* {{- $debug = or $debug (not (not (findRE `powerful` $page.RelPermalink) ) ) }} */}}
{{- $entityParams := merge . (dict "Debug" $debug) }}

<!-- [Schema.org entity Author](https://schema.org/Author)
-->

{{/* {{- if $debug }}
  {{- warnf "%s[%s]: got entityParams.Meta=%v" $page $template
  (jsonify (dict "indent" "  ") $entityParams.Meta) }}
{{- end }} */}}


{{- with .Meta.Author.Data }}
  {{- $authorEntity = (dict "Entity"
    (dict
      "@type" "Person"
      "@id" .ID
      "name" .Name
      "url" .CanonicalURL
      "description" .Description
      "sameAs" .OtherProfiles.URL
    )
    "Reference"
    (dict
      "@type" "Person"
      "@id" .ID
    )
  ) }}
{{- end }}

{{- $schemaOrgAuthor := (dict
  "Entities" (dict
    "Author" $authorEntity
  )
) }}

{{- if $debug }}
  {{- warnf "%s[%s]: returning %v" $page $template
  (jsonify (dict "indent" "  ") $authorEntity) }}
{{- end }}
{{- return $schemaOrgAuthor }}
